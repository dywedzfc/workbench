(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fc0ae424"],{"1dfd":function(t,a,e){"use strict";e("b082")},7642:function(t,a,e){"use strict";e("77db")},"77db":function(t,a,e){},"7bb9":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("page",{attrs:{title:"发布任务",icon:"el-icon-s-home"},on:{back:t.handlePageBack}},[e("panel-query",[e("el-form",{staticClass:"query-form",attrs:{slot:"query-bar",inline:""},slot:"query-bar"},[e("el-form-item",[e("el-input",{attrs:{placeholder:"名称"},model:{value:t.query.name,callback:function(a){t.$set(t.query,"name",a)},expression:"query.name"}})],1),e("el-form-item",[e("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",placeholder:"日期"},model:{value:t.query.date,callback:function(a){t.$set(t.query,"date",a)},expression:"query.date"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.handleQueryClick}},[t._v("查询")])],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.handleAddClick}},[t._v("添加任务")])],1)],1),e("card-list",{attrs:{width:"600px"}},["add"==t.postTask.type?e("card-item",{staticClass:"card-box"},[e("el-form",{staticClass:"form-card",attrs:{"label-width":"80px"}},[e("el-form-item",{attrs:{label:"任务名称"}},[e("el-input",{staticClass:"input-block",model:{value:t.postTask.add.title,callback:function(a){t.$set(t.postTask.add,"title",a)},expression:"postTask.add.title"}})],1),e("el-form-item",{attrs:{label:"项目名称"}},[e("el-select",{staticClass:"input-block",attrs:{filterable:""},model:{value:t.postTask.add.projectId,callback:function(a){t.$set(t.postTask.add,"projectId",a)},expression:"postTask.add.projectId"}},t._l(t.projectOptions,(function(t){return e("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),1)],1),e("el-form-item",{attrs:{label:"任务信息"}},[e("div",{staticClass:"task-list"},t._l(t.postTask.add.task,(function(a,s){return e("el-input",{key:s,ref:"task_"+s,refInFor:!0,staticClass:"input-block",on:{blur:function(e){return t.handleTaskBlur(e,a.value,s)}},nativeOn:{keydown:function(a){return t.handleTaskKeydown.apply(null,arguments)},keyup:function(e){return t.handleTaskKeyup(e,a.value,s)},paste:function(a){return t.handleTaskPaste(a,s)}},model:{value:a.value,callback:function(e){t.$set(a,"value","string"===typeof e?e.trim():e)},expression:"item.value"}})})),1)]),e("el-form-item",{attrs:{label:"备注"}},[e("el-input",{staticClass:"input-block",attrs:{type:"textarea",rows:"3"},model:{value:t.postTask.add.remarks,callback:function(a){t.$set(t.postTask.add,"remarks","string"===typeof a?a.trim():a)},expression:"postTask.add.remarks"}})],1),e("el-form-item",{staticClass:"form-item__col",attrs:{label:"优先级"}},[e("el-select",{staticClass:"input-block",model:{value:t.postTask.add.state,callback:function(a){t.$set(t.postTask.add,"state","string"===typeof a?a.trim():a)},expression:"postTask.add.state"}},t._l(t.postTaskOptions,(function(t){return e("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),1)],1),e("el-form-item",{staticClass:"form-item__col",attrs:{label:"截止日期"}},[e("el-input",{staticClass:"input-block",model:{value:t.postTask.add.deadline,callback:function(a){t.$set(t.postTask.add,"deadline","string"===typeof a?a.trim():a)},expression:"postTask.add.deadline"}})],1),e("el-form-item",{staticClass:"form-center",attrs:{"label-width":"0"}},[e("el-button",{on:{click:t.handleAddPostTaskCancelClick}},[t._v("取消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.handleAddPostTaskSubmitClick}},[t._v("保存")])],1)],1)],1):t._e(),t._l(t.postTaskDataList,(function(a){return e("card-item",{key:a.id,staticClass:"card-box",attrs:{state:a.state}},[e("task-box",{attrs:{data:a,loading:t.loading}})],1)}))],2)],1)],1)},l=[],i=e("2ef0"),o=e.n(i),r=e("2f62"),n=e("7651"),d=e("7f21"),c=e("0963"),u=e("bfb7"),p=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"task-box"},[e("div",{staticClass:"task-title"},[t._v(t._s(t.title||t.data.title))]),e("div",{staticClass:"task-content"},[t._l(t.data.task,(function(a,s){return e("p",{key:s,staticClass:"task-word",class:{hover:s===t.task.hover,edit:s===t.task.index}},[t._v(" "+t._s(a.value)+" ")])})),t.data.remarks?e("p",{staticClass:"task-remarks"},[t._v(t._s(t.data.remarks))]):t._e(),t.data.deadline?e("p",{staticClass:"task-deadline"},[t._v(t._s(t.data.deadline))]):t._e()],2)])},k=[],m=e("12db"),b={name:"TaskBox",props:{title:String,data:{type:Object,required:!0},date:{type:String},loading:Boolean},data(){return{}},computed:{...Object(r["b"])({projectList:m["m"]}),projectName(){const t=o.a.filter(this.projectList,t=>t.value==this.data.projectId);return t.length>0?t[0].label:""}},watch:{loading(t){}},mounted(){Object(m["J"])()},methods:{}},f=b,y=(e("7642"),e("2877")),h=Object(y["a"])(f,p,k,!1,null,"39151b1f",null),v=h.exports,T={name:"PostTask",components:{Page:n["a"],PanelQuery:d["a"],CardList:c["a"],CardItem:u["a"],TaskBox:v},data(){return{loading:!1,query:{name:"",date:""},type:{state:!1,year:""},postTask:{type:"",add:{projectId:"",task:[]},data:[]}}},computed:{...Object(r["b"])({projectList:m["m"],postTaskList:m["k"]}),projectOptions(){return o.a.orderBy(this.projectList,"label","asc")},postTaskOptions(){return this.postTaskList},postTaskDataList(){return[{id:1,title:"基础任务",state:1,projectId:"",deadline:"2021-07-01 05:50:00",remarks:"在这里备注产品能开发要点。"}]}},watch:{},mounted(){this.postTask.add.task=[],this.postTask.add.task.push({value:""}),Object(m["J"])(),Object(m["I"])()},methods:{handlePageBack(){this.$router.push({name:"Home"})},handleQueryClick(){},handleAddClick(){this.postTask.type="add"},handleAddPostTaskCancelClick(){this.postTask.type="",this.postTask.add.projectId="",this.postTask.add.task=[],this.postTask.add.task.push({value:""})},handleAddPostTaskSubmitClick(){this.verificationSubmit()||this.addDailyInfo()}}},C=T,_=(e("1dfd"),Object(y["a"])(C,s,l,!1,null,"770d21bc",null));a["default"]=_.exports},b082:function(t,a,e){}}]);