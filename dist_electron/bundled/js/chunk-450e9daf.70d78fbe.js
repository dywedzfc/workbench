(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-450e9daf"],{2067:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("page",{attrs:{title:"回收站",icon:"el-icon-s-home"},on:{back:e.handlePageBack}},[a("panel-query",{scopedSlots:e._u([{key:"footer",fn:function(){return[a("el-pagination",{attrs:{background:"","current-page":e.tableCurrentPage,"page-size":e.tablePageSize,total:e.filterTableList.length},on:{"update:currentPage":function(t){e.tableCurrentPage=t},"update:current-page":function(t){e.tableCurrentPage=t}}})]},proxy:!0}])},[a("el-form",{staticClass:"query-form",attrs:{slot:"query-bar",inline:""},slot:"query-bar"},[a("el-form-item",[a("el-input",{attrs:{placeholder:"名称"},model:{value:e.query.name,callback:function(t){e.$set(e.query,"name",t)},expression:"query.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"}},[e._v("查询")])],1)],1),a("el-table",{staticClass:"query-table",attrs:{data:e.filterTableList,border:"",stripe:"",size:"small",height:"100%"}},[a("el-table-column",e._b({attrs:{prop:"title",label:"名称",width:"240"}},"el-table-column",e.tableColProps,!1)),a("el-table-column",e._b({attrs:{prop:"type",label:"类型",width:"140"}},"el-table-column",e.tableColProps,!1)),a("el-table-column",e._b({attrs:{prop:"path",label:"路径","min-width":"240"}},"el-table-column",e.tableColProps,!1)),a("el-table-column",e._b({attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[a("el-button",{staticClass:"table-button",attrs:{icon:"el-icon-refresh-left",type:"text"},on:{click:function(t){return e.handleRestoreClick(l)}}}),a("el-button",{staticClass:"table-button",attrs:{icon:"el-icon-delete",type:"text"},on:{click:function(t){return e.handleRemoveClick(l)}}})]}}])},"el-table-column",e.tableColProps,!1))],1)],1)],1)},r=[],o=a("2ef0"),n=a.n(o),c=a("2f62"),s=a("7651"),i=a("7f21"),u=a("12db"),b=a("4260");const{ipcRenderer:p}=window.require("electron");var d={name:"RecycleBin",components:{Page:s["a"],PanelQuery:i["a"]},data(){return{query:{name:""}}},computed:{...Object(c["b"])({recycleList:u["r"],recycleTable:u["s"],tablePageSize:u["x"]}),tableColProps(){return{align:"center"}},tablePage(){const{currentPage:e}=this.recycleTable,t=this.tablePageSize;return{currentPage:e,pageSize:t}},filterTableList(){const{name:e}=this.query,t=n.a.filter(this.recycleList,t=>""==e||t.title.includes(e)),{currentPage:a,pageSize:l}=this.tablePage,r=(a-1)*l,o=a*l;return t.slice(r,o)},tableCurrentPage:{get(){return this.recycleTable.currentPage},set(e){Object(u["Z"])(e)}}},mounted(){this.tableCurrentPage=1,Object(u["K"])()},methods:{removeRecycleItem(e){Object(u["M"])(e,({code:e,msg:t})=>{200==e?(Object(b["g"])(t),Object(u["K"])()):Object(b["h"])(t)})},handlePageBack(){this.$router.push("/")},handleRestoreClick(e){Object(u["O"])(e.id,({code:e,msg:t})=>{200==e?(Object(b["g"])(t),Object(u["K"])()):Object(b["h"])(t)})},handleRemoveClick(e){"项目文件"==e.type?this.removeProjectInfo(e):"项目表文件"==e.type&&this.removeProjectTableInfo(e)},removeProjectInfo(e){if(!e.path)return this.removePrompt(e);const[t]=e.path.split("/");p.invoke("get-table-folder-count",t).then(({code:t,data:a,msg:l})=>{200==t?this.removePrompt(e,a):400==t&&"无数据"==l&&this.removePrompt(e)}).catch(()=>{this.removePrompt(e)})},removeProjectTableInfo(e){this.removePrompt(e)},removePrompt({id:e,title:t,type:a},l){let r="";l&&(r=`发现有${l}条，项目表文件，`),Object(b["f"])(`${r}是否确认移除 "${t+a}"？`).then(()=>this.removeRecycleItem(e)).catch(()=>{})}}},f=d,h=a("2877"),m=Object(h["a"])(f,l,r,!1,null,"49caa786",null);t["default"]=m.exports},4013:function(e,t,a){"use strict";a("f95a")},4280:function(e,t,a){},7651:function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("div",{staticClass:"page-header"},[e.back?a("div",{staticClass:"page-button btn-back",class:e.icon,on:{click:e.handleBackClick}}):e._e(),a("div",{staticClass:"title"},[e._t("title",(function(){return[e._v(e._s(e.title))]}))],2),e.$slots.tool?a("div",{staticClass:"tool"},[e._t("tool")],2):e._e()]),a("div",{staticClass:"page-body"},[e._t("default")],2)])},r=[],o={name:"Page",props:{title:String,back:{type:Boolean,default:!0},icon:{type:String,default:"el-icon-back"}},methods:{handleBackClick(){this.$listeners["back"]?this.$emit("back"):this.$router.back()}}},n=o,c=(a("4013"),a("2877")),s=Object(c["a"])(n,l,r,!1,null,"53c7c5c6",null);t["a"]=s.exports},"7f21":function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"panel-query"},[a("div",{ref:"query-bar",staticClass:"query-bar"},[e._t("query-bar")],2),a("div",{staticClass:"query-body",style:e.bodyStyle()},[e._t("default")],2),a("div",{ref:"footer",staticClass:"query-footer"},[e._t("footer")],2)])},r=[],o={name:"PanelQuery",computed:{},methods:{bodyStyle(){var e,t;const a={},{"query-bar":l,footer:r}=this.$slots;let o=0;return l&&(o+=(null===(e=this.$refs["query-bar"])||void 0===e?void 0:e.offsetHeight)||0),r&&(o+=(null===(t=this.$refs["footer"])||void 0===t?void 0:t.offsetHeight)||0),a.height=`calc(100% - ${o}px)`,a}}},n=o,c=(a("9c39"),a("2877")),s=Object(c["a"])(n,l,r,!1,null,"13a8874e",null);t["a"]=s.exports},"9c39":function(e,t,a){"use strict";a("4280")},f95a:function(e,t,a){}}]);